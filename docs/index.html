<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.3">
<title>ateams API documentation</title>
<meta name="description" content="ATEAMS …">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin:1em 0}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ], processEscapes: true } });</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
$(document).ready(function() {
const buttons = document.querySelectorAll(".collapsible");
buttons.forEach(button => {
var tableId = "#" + button.id + "-table";
button.addEventListener("click", event => {
$(tableId).toggle();
});
});
})
</script>
<!-- Sidebar edits -->
<style>
a:hover {
text-decoration: underline;
}
a, a:visited {
color: #058;
transition: none;
}
header > h1 { display: none; }
.toc { display: none; }
img.resize {
min-width: 10vw;
max-width: 15vw;
display: block;
margin: 0 auto;
}
div.proof {
border: 1px solid black;
padding: 0em 1em;
width: 90%;
margin: 1em auto;
}
.tombstone {
margin-top: -2em;
float: right;
}
#index .two-column {
column-count: 1 !important;
}
#ateams {
margin-top: 0;
}
#sidebar {
width: 20vw;
font-size: 1rem;
scrollbar-width: none;
}
</style>
<!-- table edits -->
<style>
.collapsible {
border: 1px solid black;
background: none;
cursor: pointer;
padding: 2.5px 5px;
font-weight: bold;
}
.dataframe.profile-data-table {
margin: auto;
width: 75%;
display: none;
}
.dataframe.profile-data-table thead tr {
text-align: center !important;
}
.dataframe.profile-data-table thead {
border-bottom: 3px solid black;
}
.dataframe.profile-data-table tbody tr th {
vertical-align: middle;
}
.dataframe.profile-data-table tbody tr td {
vertical-align: middle;
}
.dataframe.profile-data-table tbody > tr:nth-child(4n) {
border-bottom: 1px solid black;
}
.dataframe.profile-data-table tbody td {
text-align: center;
}
</style>
<link rel="preload" as="image" href="https://mason.gmu.edu/~apizzime/assets/img/ic.4.cycle.jpg">
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>ateams</code></h1>
</header>
<section id="section-intro">
<h2 id="ateams">ATEAMS</h2>
<p><a href="https://doi.org/10.5281/zenodo.14284172"><img alt="DOI" src="https://zenodo.org/badge/657294229.svg"></a>
<a href="https://apizzimenti.github.io/ATEAMS/"><img alt="docs" src="https://img.shields.io/badge/%E2%93%98-Documentation-%230099cd"></a> </p>
<p><strong>A</strong>lgebraic <strong>T</strong>opology-<strong>E</strong>nabled <strong>A</strong>lgorith<strong>M</strong>s for <strong>S</strong>pin systems (<strong>ATEAMS</strong>) is a software suite designed for high-performance simulation of generalized <em>Potts</em> and <em>random-cluster</em> models in combinatorial complexes of arbitrary dimension and scale. The linear algebra subroutines supporting these programs are tailored to this application — matrix reduction over finite fields — using <a href="https://github.com/cbouilla/spasm">SpaSM</a>, <a href="https://github.com/munuxi/SparseRREF">SparseRREF</a>, and PHAT [<a href="https://www.sciencedirect.com/science/article/pii/S0747717116300098">1</a>,<a href="https://bitbucket.org/phat-code/phat/src/master/">2</a>].</p>
<p><a href="#dependencies"><strong>Install dependencies</strong></a> $\longrightarrow$ <a href="#installing-ateams"><strong>Install ATEAMS</strong></a> $\longrightarrow$ <a href="https://apizzimenti.github.io/ATEAMS/"><strong>Documentation</strong></a> $\longrightarrow$ <a href="#contributing"><strong>Contributing</strong></a> $\longrightarrow$ <a href="#citing"><strong>Citing</strong></a></p>
<h2 id="demo">Demo</h2>
<p>Simulating the $1$-dimensional plaquette random cluster model on a $10 \times 10 \times 10$ cubical $3$-torus with coefficients in the finite field $\mathbb F_3$ looks like:</p>
<pre><code class="language-python">from ateams.complexes import Cubical
from ateams.models import InvadedCluster
from ateams import Chain

field = 3
C = Cubical().fromCorners([10]*3)
IC = InvadedCluster(C, dimension=1, field=field)

for (spins, occupied, satisfied) in Chain(IC, steps=10):
  pass
</code></pre>
<p>and the $2$-dimensional plaquette Swendsen-Wang algorithm at criticality on a scale $10$ cubical $4$-torus with coefficients in $\mathbb F_5$ looks like</p>
<pre><code class="language-python">from ateams.complexes import Cubical
from ateams.models import SwendsenWang
from ateams.statistics import critical
from ateams import Chain

field = 5
C = Cubical().fromCorners([10]*4)
SW = SwendsenWang(C, dimension=2, field=field, temperature=critical(field))

for (spins, occupied, satisfied) in Chain(SW, steps=100):
  pass
</code></pre>
<p><a href="https://apizzimenti.github.io/ATEAMS/models/index.html#ateams.models.SwendsenWang"><code>SwendsenWang</code></a> is, after <a href="https://apizzimenti.github.io/ATEAMS/models/index.html#ateams.models.Glauber"><code>Glauber</code></a>, the most efficient implementation in ATEAMS. The above chain terminates in ~19 seconds on an Apple M2. Additional performance information for each model is included in <a href="https://apizzimenti.github.io/ATEAMS/models/index.html">the documentation</a>.</p>
<p>You can turn on a progress bar for your simulation using the</p>
<pre><code class="language-python">for (spins, occupied, satisfied) in Chain(HP, steps=10).progress():
  pass
</code></pre>
<p>pattern. <strong>If you plan to simulate a large system,</strong> ATEAMS comes with <a href="https://apizzimenti.github.io/ATEAMS/statistics/index.html#ateams.statistics.Recorder"><code>Recorder</code></a> and <a href="https://apizzimenti.github.io/ATEAMS/statistics/index.html#ateams.statistics.Player"><code>Player</code></a> classes that allow you to efficiently store and re-play chain output data. Based on the example above, recording looks like:</p>
<pre><code class="language-python">from ateams.complexes import Cubical
from ateams.models import SwendsenWang
from ateams.statistics import critical
from ateams import Chain, Recorder

field = 5
C = Cubical().fromCorners([10]*4)
SW = SwendsenWang(C, dimension=2, field=field, temperature=critical(field))

with Recorder().record(&quot;out.lz&quot;) as rec:
  for (spins, occupied, satisfied) in Chain(SW, steps=1000).progress():
    rec.store((spins, occupied, satisfied))
</code></pre>
<p>Once the program terminates, you can re-play the chain:</p>
<pre><code class="language-python">from ateams import Player

with Player().playback(&quot;out.lz&quot;, steps=1000) as play:
  for (spins, occupied, satisfied) in play.progress():
    pass
</code></pre>
<p>Running the sampler and recording the data takes ~26 seconds (~38 it/s) on an M2 MacBook Air; replaying the data takes ~0 seconds (~24,211 it/s). The size of <code>out.lz</code> is ~1.8MB, so storing each cell's data requires <span><span class="MathJax_Preview">1/11</span><script type="math/tex">1/11</script></span>th of a byte per iteration (amortized). To see how various configurations of each model perform on your machine, run <code>make profile</code>.</p>
<h2 id="installation">Installation</h2>
<h3 id="prerequisites">Prerequisites</h3>
<ol>
<li>Patience. </li>
<li>Python $\geq$ 3.9. To manage different versions of Python on your machine, we recommend <a href="https://github.com/pyenv/pyenv">pyenv</a>.</li>
<li>A C/C++ compiler. <strong>Clang is recommended; please ensure your machine's default compiler is Clang (at least version 19).</strong></li>
<li><a href="https://www.gnu.org/software/make/">GNU Make</a> (or a Windows variant&hellip;) to build and install the library, and to build any changes you might make. <em>(This is optional for Windows users. The recipes in the Makefile can be performed manually, but it will take much longer. If that's undesirable, the Linux Subsystem for Windows is a useful workaround.)</em></li>
<li>Standard tools (pkg-config, autoconf, libtool, etc.) for building and maintaining C++ libraries. For Windows, the Visual Studio BuildTools (which include Clang/LLVM) may be required.</li>
<li>If you want to keep your sanity, a computer running macOS or a flavor of Linux.</li>
</ol>
<h3 id="installing-ateams">Installing ATEAMS</h3>
<ol>
<li><a href="#dependencies">Install all dependencies</a>.</li>
<li>Clone this repository.</li>
<li>Navigate into the ATEAMS directory.</li>
<li>Run <code>make install</code>.</li>
</ol>
<p>In summary,</p>
<pre><code>$ git clone https://github.com/apizzimenti/ATEAMS.git
  ...

$ cd ATEAMS
$ make install
</code></pre>
<p><strong>Should you run into errors,</strong> the <code>make install</code> recipe performs the following operations in the order they're listed:</p>
<ol>
<li>Attempts to compile the Python $\leftrightarrow$ Cython $\leftrightarrow$ C++ interface at <code>ATEAMS/ateams/arithmetic/Sampling.cpp</code>, building it as a shared library and storing it at <code>/usr/local/lib/libATEAMS_Sampling.so</code>.</li>
<li>Attempts to compile the Python $\leftrightarrow$ Cython $\leftrightarrow$
C++ interface at <code>ATEAMS/ateams/arithmetic/Persistence.cpp</code>, building it as a shared library and storing it at <code>/usr/local/lib/libATEAMS_Persistence.so</code>.</li>
<li>Attempts to compile the Cython components of ATEAMS, spitting the log into a file called <code>build.log</code>.</li>
<li>Runs <code>setup.py</code> and installs the ATEAMS package as a local development package, so it is importable system-wide.</li>
<li>Tests arithmetic and profiles the five main models of the library in varying configurations.</li>
</ol>
<p><strong>Check the Makefile to see the steps done manually.</strong></p>
<h3 id="dependencies">Dependencies</h3>
<h4 id="gmp">GMP</h4>
<ol>
<li><a href="https://gmplib.org/download/gmp/gmp-6.3.0.tar.xz">Download GMP 6.3.0 from here</a>.</li>
<li>Follow the <a href="https://gmplib.org/manual/Installing-GMP">installation instructions here</a>, passing the <code>--enable-cxx</code> flag to the <code>./configure</code> script and setting the install prefix to <code>/usr/local</code> (or wherever you'd like). In summary, the installation looks like</li>
</ol>
<pre><code>$ wget -c gmplib.org/download/gmp/gmp-6.3.0.tar.xz -O - | tar -xJ
$ cd gmp-6.3.0
$ ./configure --prefix=/usr/local --enable-cxx
  ...

$ make; make check; sudo make install
$ pkg-config --libs gmp gmpxx
  -L/usr/local/lib -lgmpxx -lgmp
</code></pre>
<h4 id="openblas">OpenBLAS</h4>
<p>In general, follow the <a href="http://www.openmathlib.org/OpenBLAS/docs/install/">installation instructions here</a>. In particular,</p>
<ul>
<li>for macOS users, <a href="https://formulae.brew.sh/formula/openblas">the openblas formula on homebrew</a> is recommended. It will be installed wherever formulae are typically installed on your computer (e.g. <code>/opt/homebrew/Cellar/openblas/0.3.29/lib</code>). <em>If you choose this option, you are done installing OpenBLAS.</em></li>
<li>for Linux (e.g. Ubuntu), it's recommended to build OpenBLAS from source. The latest version known to work with all following dependencies is 0.3.29, <a href="https://github.com/OpenMathLib/OpenBLAS/releases/tag/v0.3.29">which can be found here</a>. After downloading and decompressing the tarball, navigate into the directory and run <code>make</code>.</li>
</ul>
<p>Regardless of how you install, OpenBLAS should register with <code>pkg-config</code>. In summary: on macOS,</p>
<pre><code>$ brew install openblas
$ pkg-config --libs openblas
  -L/opt/homebrew/Cellar/openblas/0.3.29/lib -lopenblas
</code></pre>
<p>or on Linux,</p>
<pre><code>$ wget -c github.com/OpenMathLib/OpenBLAS/releases/download/v0.3.29/OpenBLAS-0.3.29.tar.gz -O - | tar -xz
$ cd OpenBLAS-0.3.29
$ make
  ...

$ pkg-config --libs openblas
  -L/usr/local/lib -lopenblas
</code></pre>
<h4 id="givaro">Givaro</h4>
<p>To stave off bugs, we recommend cloning <a href="https://github.com/linbox-team/givaro">the current main branch of Givaro</a> and building from source.</p>
<ol>
<li>Clone the Givaro repository.</li>
<li>Navigate into the Givaro directory and run the <code>autogen</code> script, passing your preferred install prefix as argument.</li>
<li>Run <code>make</code> and <code>sudo make install</code>.</li>
</ol>
<p>In summary,</p>
<pre><code>$ git clone https://github.com/linbox-team/givaro.git
  Cloning into 'givaro'... done.

$ cd givaro
$ ./autogen.sh --prefix=/usr/local
  ...

$ make; sudo make install
$ pkg-config --libs givaro
  -L/usr/local/lib -lgivaro -lgmpxx -lgmp
</code></pre>
<h4 id="fflas-ffpack">fflas-ffpack</h4>
<p>This package can be slightly trickier, and may need some convincing that the
previous dependencies actually exist on your system. As with Givaro, we
recommend cloning <a href="https://github.com/linbox-team/fflas-ffpack">the current main branch of fflas-ffpack</a>
and building from source.</p>
<ol>
<li>Clone the fflas-ffpack repository.</li>
<li>Navigate into the fflas-ffpack directory and run the <code>autogen</code> script with the following options:</li>
<li>Ubuntu, Debian, Mint, etc.<ul>
<li><code>--prefix=/usr/local</code></li>
<li><code>--with-blas-libs="`pkg-config --libs openblas`"</code></li>
<li><code>--with-blas-cflags="`pkg-config --cflags openblas`"</code></li>
</ul>
</li>
<li>macOS:<ul>
<li><code>--prefix=/usr/local</code></li>
<li><code>--with-blas-libs="-framework Accelerate"</code></li>
<li>(it's possible to use the <code>pkg-config</code> arguments to <code>--with-blas-libs</code> and <code>--with-blas-cflags</code> here, but the LinBox team recommends using the Accelerate framework.)</li>
</ul>
</li>
<li>Run <code>make</code>.</li>
<li><em>Optionally</em>, run <code>make autotune</code>.</li>
<li>Run <code>sudo make install; make check</code>.</li>
<li>If/when things go wrong, check <a href="https://github.com/linbox-team/fflas-ffpack/blob/master/INSTALL">the fflas-ffpack installation notes</a>.</li>
</ol>
<p>In summary,</p>
<pre><code>$ git clone https://github.com/linbox-team/fflas-ffpack.git
  Cloning into 'fflas-ffpack'... done.

$ cd fflas-ffpack
$ ./autogen.sh --prefix=/usr/local --with-blas-libs=&lt;libs&gt; --with-blas-cflags=&lt;cflags&gt;
  ...

$ make; make autotune
  ...

$ sudo make install; make check
  ...

$ pkg-config --libs fflas-ffpack
  -L/&lt;path-to-openblas&gt; -lopenblas -L/usr/local/lib -lgivaro -lgmpxx -lgmp
</code></pre>
<h4 id="spasm">SpaSM</h4>
<p>SpaSM is a library for (extremely fast) sparse elimination for finite fields with odd prime characteristic (i.e. it doesn't work for $\mathbb Z/q\mathbb Z$ with $q&lt;3$). Again, we recommend downloading the library from <a href="https://github.com/apizzimenti/spasm">our fork</a> and building from source. (The changes on our fork are only to automatically copy shared libraries and header files to <code>/usr/local/lib</code> and <code>/usr/local/include/spasm</code>, and to remove the <code>-Werror</code> C compiler flag.) The installation process for this library is much simpler:</p>
<ol>
<li>Clone the spasm library.</li>
<li>Navigate into the spasm directory and run <code>make</code>.<ul>
<li>If you get an error saying <code>cmake</code> doesn't exist, install it through your OS's package manager (Homebrew for macOS, <code>apt</code> or <code>apt-get</code>).</li>
<li>If you get an error saying the compiler can't find OpenMP headers, install it through your OS's package manager.</li>
</ul>
</li>
<li>Check whether the files <code>/usr/local/lib/libspasm.so</code> (or <code>.dylib</code>) and <code>/usr/local/include/spasm/spasm.h</code> exist. If they don't, something's up.</li>
</ol>
<pre><code>$ git clone https://github.com/apizzimenti/spasm.git
  Cloning into 'spasm'... done.

$ cd spasm
$ make build
  ...
</code></pre>
<p>Then check whether the files <code>/usr/local/lib/libspasm.so</code> (or <code>.dylib</code>) and <code>/usr/local/include/spasm/spasm.h</code> exist.</p>
<h3 id="flint">Flint</h3>
<p>Flint (<strong>F</strong>ast <strong>Li</strong>brary for <strong>N</strong>umber <strong>T</strong>heory) is exactly what it sounds like. It usually comes installed with most Linux distros, and can be installed through your OS's package manager (Homebrew for macOS, <code>apt</code> or <code>apt-get</code> for Linux). Sometimes, ATEAMS has dificulty finding headers, and will error when a Flint symbol can't be found. In that case, you can install it manually:</p>
<pre><code>$ wget -c https://flintlib.org/download/flint-3.3.1.tar.gz -O - | tar -xz
$ cd flint-3.3.1
$ ./configure --prefix=/usr/local
  ...

$ make -j $(expr $(nproc) + 1)
$ sudo make install
  ...

$ pkg-config --libs --cflags flint
  -I/usr/local/include -L/usr/local/lib -lflint -lmpfr -lgmp
</code></pre>
<h4 id="sparserref">SparseRREF</h4>
<p>We use SparseRREF instead of SpaSM for sampling cochains over $\mathbb Z/2\mathbb Z$. It requires <a href="https://flintlib.org/">Flint</a>, which in turn requires GMP and <a href="https://mpfr.org/">MPFR</a>; you can install MPFR through your OS's package manager. SparseRREF is a header-only library, and all its header files are included in ATEAMS by default.</p>
<h4 id="phat">PHAT</h4>
<p>We use the <a href="https://bitbucket.org/phat-code/phat">Persistent Homology Algorithms Toolbox (PHAT)</a> to compute persistence over $\mathbb Z/2\mathbb Z$. Included in the <code>ATEAMS/ateams/arithmetic/include/PHAT</code> folder are all the header files for the PHAT library (as of writing) which will be copied to <code>/usr/local/include/phat</code> whenever <code>make install</code> (or <code>make PHATMethods</code>) is executed. We build an additional C++ interface in <code>PHATMethods.cpp</code>, which is linked against by the Cython compiler and made available to the Python modules in the library &mdash; specifically, native PHAT lets us remarkably speed up persistence computation in the <code>Bernoulli</code> and <code>InvadedCluster</code> models.</p>
<p>Now, you can move on to <a href="#installing-ateams">installing ATEAMS itself</a>!</p>
<h2 id="contributing">Contributing</h2>
<ul>
<li><strong>Do not push directly to this repository: use the fork + pull request model.</strong></li>
<li>Follow the standard practices already used in this library, including documentation according to <a href="https://peps.python.org/pep-0008/">PEP8</a> and <a href="https://peps.python.org/pep-0257/">PEP257</a> guidelines.</li>
<li>When writing new Cython/C/C++ code, please include its compilation in the <code>build</code> recipe of the Makefile. If you want C/C++ code to interface with Cython, ensure <code>setup.py</code> is correctly configured to find shared libraries.</li>
<li>When creating mathematical computation routines, create a testing file in the <code>test</code> directory following the <code>test.&lt;submodule&gt;.&lt;routine&gt;.py</code>/<code>test.&lt;submodule&gt;.&lt;routine&gt;.sh</code> convention. To run existing tests, run <code>make test</code>; to run tests you design, add them to the <code>test</code> recipe in the <code>Makefile</code>. <strong>Please ensure that your routines are tested against ground truth; for example, test new matrix reduction routines against <code>NumPy</code>/<code>SciPy</code> routines, not against routines already in this library.</strong> <em>(For examples, take a look in the <code>test</code> directory.)</em></li>
<li>When creating new simulation models or new computation routines, create a profiling file in the <code>test</code> directory following the <code>&lt;model-or-routine&gt;.py</code>/<code>profile.&lt;submodule&gt;.&lt;model-or-routine&gt;.py</code>/<code>profile.&lt;submodule&gt;.&lt;model-or-routine&gt;.sh</code> convention. To profile existing code, run <code>make profile</code>; to run profiles you design, add them to the <code>profile</code> recipe in the <code>Makefile</code>. <em>(For examples, take a look in the <code>test</code> directory.)</em></li>
<li>To run all tests and all profiles, run <code>make gauntlet</code>.</li>
<li>Before opening a new pull request, run <code>make contribute</code> to perform a clean rebuild of the Cython/C/C++ backend and documentation.</li>
</ul>
<h2 id="citing">Citing</h2>
<h3 id="bibtex">BibTeX</h3>
<pre><code class="language-bibtex">@software{ATEAMS,
  title={{ATEAMS: Algebraic Topology-Enabled AlgorithMs for Spin systems}},
  author={Duncan, Paul and Pizzimenti, Anthony E. and Schweinhart, Benjamin},
  url={https://github.com/apizzimenti/ATEAMS},
  version={2.1.0},
  doi={10.5281/zenodo.17574726}
}
</code></pre>
<h2 id="references">References</h2>
<p>Bauer, Ulrich, Michael Kerber, Jan Reininghaus, and Hubert Wagner. 2017.
“PHAT — Persistent Homology Algorithms Toolbox.” <em>Journal of Symbolic
Computation</em> 78 (January): 76–90.
<a href="https://doi.org/10.1016/j.jsc.2016.03.008">https://doi.org/10.1016/j.jsc.2016.03.008</a>.</p>
<p>Bobrowski, Omer, and Primoz Skraba. 2020. “Homological Percolation and
the Euler Characteristic.” <em>Physical Review E</em> 101 (3).
<a href="https://doi.org/10.1103/PhysRevE.101.032304">https://doi.org/10.1103/PhysRevE.101.032304</a>.</p>
<p>Bobrowski, Omer, and Primoz Skraba. 2022. “Homological Percolation: The
Formation of Giant k-Cycles.” <em>International Mathematics Research
Notices</em> 2022 (8). <a href="https://doi.org/10.1093/imrn/rnaa305">https://doi.org/10.1093/imrn/rnaa305</a>.</p>
<p>Bouillaguet, Charles. 2023. <em>SpaSM: A Sparse Direct Solver Modulo </em>p**.
v1.3.</p>
<p>Chayes, L., and J. Machta. 1998. “Graphical Representations and Cluster
Algorithms II.” <em>Physica A: Statistical Mechanics and Its Applications</em>
254 (3–4). <a href="https://doi.org/10.1016/S0378-4371(97)00637-7">https://doi.org/10.1016/S0378-4371(97)00637-7</a>.</p>
<p>Chen, Chao, and Michael Kerber. 2011. “Persistent Homology Computation
with a Twist.” <em>Proceedings 27th European Workshop on Computational
Geometry</em> 11: 197–200.</p>
<p>Duncan, Paul, Matthew Kahle, and Benjamin Schweinhart. 2023.
“Homological Percolation on a Torus: Plaquettes and Permutohedra.” <em>To
Appear in Annales de l’Institut Henri Poincaré, Probabilités Et
Statistiques</em>, September.
<a href="https://arxiv.org/abs/10.48550/arXiv.2011.11903">arxiv.org/abs/10.48550/arXiv.2011.11903</a>.</p>
<p>Duncan, Paul, and Benjamin Schweinhart. 2025. “Topological Phases in the
Plaquette Random-Cluster Model and Potts Lattice Gauge Theory.”
<em>Communications in Mathematical Physics</em>.
<a href="https://arxiv.org/abs/10.48550/arXiv.2207.08339">arxiv.org/abs/10.48550/arXiv.2207.08339</a>.</p>
<p>Edelsbrunner, Herbert, and John Harer. 2010. <em>Computational Topology: An
Introduction</em>. American Mathematical Soc.</p>
<p>Edwards, Robert G., and Alan D. Sokal. 1988. “Generalization of the
Fortuin-Kasteleyn-Swendsen-Wang Representation and Monte Carlo
Algorithm.” <em>Physical Review D</em> 38 (6): 2009–12.
<a href="https://doi.org/10.1103/PhysRevD.38.2009">https://doi.org/10.1103/PhysRevD.38.2009</a>.</p>
<p>Fortuin, C. M., and P. W. Kasteleyn. 1972. “On the Random-Cluster Model:
I. Introduction and Relation to Other Models.” <em>Physica</em> 57 (4).
<a href="https://doi.org/10.1016/0031-8914(72)90045-6">https://doi.org/10.1016/0031-8914(72)90045-6</a>.</p>
<p>Grimmett, Geoffrey. 2004. <em>The Random-Cluster Model</em>. Edited by Harry
Kesten. Springer Berlin Heidelberg.
<a href="https://doi.org/10.1007/978-3-662-09444-0_2">https://doi.org/10.1007/978-3-662-09444-0_2</a>.</p>
<p>Hatcher, Allen. 2002. <em>Algebraic Topology</em>. Cambridge University Press.</p>
<p>Hiraoka, Yasuaki, and Tomoyuki Shirai. 2016. “Tutte Polynomials and
Random-Cluster Models in Bernoulli Cell Complexes (Stochastic Analysis
on Large Scale Interacting Systems).” <em>RIMS Kokyuroku Bessatsu</em> B59
(July): 289–304.</p>
<p>Kesten, Harry. 1982. <em>Percolation Theory for Mathematicians</em>.
Birkhäuser. <a href="https://doi.org/10.1007/978-1-4899-2730-9">https://doi.org/10.1007/978-1-4899-2730-9</a>.</p>
<p>Machta, J., Y. S. Choi, A. Lucke, T. Schweizer, and L. M. Chayes. 1996.
“Invaded Cluster Algorithm for Potts Models.” <em>Physical Review E</em> 54
(2). <a href="https://doi.org/10.1103/PhysRevE.54.1332">https://doi.org/10.1103/PhysRevE.54.1332</a>.</p>
<p>Machta, J., Y. S. Choi, A. Lucke, T. Schweizer, and L. V. Chayes. 1995.
“Invaded Cluster Algorithm for Equilibrium Critical Points.” <em>Physical
Review Letters</em> 75 (15): 2792–95.
<a href="https://doi.org/10.1103/PhysRevLett.75.2792">https://doi.org/10.1103/PhysRevLett.75.2792</a>.</p>
<p>Swendsen, Robert H., and Jian-Sheng Wang. 1987. “Nonuniversal Critical
Dynamics in Monte Carlo Simulations.” <em>Physical Review Letters</em> 58 (2).
<a href="https://doi.org/10.1103/PhysRevLett.58.86">https://doi.org/10.1103/PhysRevLett.58.86</a>.</p>
<p>Zomorodian, Afra J. 2005. <em>Topology for Computing</em>. Cambridge University
Press.</p>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="ateams.arithmetic" href="arithmetic/index.html">ateams.arithmetic</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="ateams.complexes" href="complexes/index.html">ateams.complexes</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="ateams.models" href="models/index.html">ateams.models</a></code></dt>
<dd>
<div class="desc"><p>Models …</p></div>
</dd>
<dt><code class="name"><a title="ateams.statistics" href="statistics/index.html">ateams.statistics</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<!-- include a script for adding stuff to the end of proofs. -->
<script>
// Get all the proofs in the document.
proofs = document.getElementsByClassName("proof");
// For each of the proofs, attach a floating child element in the bottom-right
// corner.
for (var proof of proofs) {
// Create a proof-ending tombstone.
square = document.createElement("div");
square.className = "tombstone";
square.innerHTML = "◼️";
// Attach the tombstone to the proof.
proof.appendChild(square);
}
</script>
<header>
<a class="homelink" rel="home" title="ATEAMS" href="https://github.com/apizzimenti/ATEAMS">
<img class="resize" src="https://mason.gmu.edu/~apizzime/assets/img/ic.4.cycle.jpg" alt="Homological percolation on the torus.">
</a>
</header>
<div class="toc">
<ul>
<li><a href="#ateams">ATEAMS</a></li>
<li><a href="#demo">Demo</a></li>
<li><a href="#installation">Installation</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#installing-ateams">Installing ATEAMS</a></li>
<li><a href="#dependencies">Dependencies</a><ul>
<li><a href="#gmp">GMP</a></li>
<li><a href="#openblas">OpenBLAS</a></li>
<li><a href="#givaro">Givaro</a></li>
<li><a href="#fflas-ffpack">fflas-ffpack</a></li>
<li><a href="#spasm">SpaSM</a></li>
</ul>
</li>
<li><a href="#flint">Flint</a><ul>
<li><a href="#sparserref">SparseRREF</a></li>
<li><a href="#phat">PHAT</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#citing">Citing</a><ul>
<li><a href="#bibtex">BibTeX</a></li>
</ul>
</li>
<li><a href="#references">References</a></li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="ateams.arithmetic" href="arithmetic/index.html">ateams.arithmetic</a></code></li>
<li><code><a title="ateams.complexes" href="complexes/index.html">ateams.complexes</a></code></li>
<li><code><a title="ateams.models" href="models/index.html">ateams.models</a></code></li>
<li><code><a title="ateams.statistics" href="statistics/index.html">ateams.statistics</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.3</a>.</p>
</footer>
</body>
</html>
